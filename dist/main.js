(()=>{var t={559:(t,e,n)=>{t.exports=n(335)},786:(t,e,n)=>{"use strict";var i=n(266),r=n(608),s=n(159),a=n(568),o=n(943),c=n(201),u=n(745),l=n(979);t.exports=function(t){return new Promise((function(e,n){var d=t.data,p=t.headers;i.isFormData(d)&&delete p["Content-Type"];var f=new XMLHttpRequest;if(t.auth){var h=t.auth.username||"",m=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";p.Authorization="Basic "+btoa(h+":"+m)}var v=o(t.baseURL,t.url);if(f.open(t.method.toUpperCase(),a(v,t.params,t.paramsSerializer),!0),f.timeout=t.timeout,f.onreadystatechange=function(){if(f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))){var i="getAllResponseHeaders"in f?c(f.getAllResponseHeaders()):null,s={data:t.responseType&&"text"!==t.responseType?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:i,config:t,request:f};r(e,n,s),f=null}},f.onabort=function(){f&&(n(l("Request aborted",t,"ECONNABORTED",f)),f=null)},f.onerror=function(){n(l("Network Error",t,null,f)),f=null},f.ontimeout=function(){var e="timeout of "+t.timeout+"ms exceeded";t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),n(l(e,t,"ECONNABORTED",f)),f=null},i.isStandardBrowserEnv()){var g=(t.withCredentials||u(v))&&t.xsrfCookieName?s.read(t.xsrfCookieName):void 0;g&&(p[t.xsrfHeaderName]=g)}if("setRequestHeader"in f&&i.forEach(p,(function(t,e){void 0===d&&"content-type"===e.toLowerCase()?delete p[e]:f.setRequestHeader(e,t)})),i.isUndefined(t.withCredentials)||(f.withCredentials=!!t.withCredentials),t.responseType)try{f.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&f.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&f.upload&&f.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then((function(t){f&&(f.abort(),n(t),f=null)})),d||(d=null),f.send(d)}))}},335:(t,e,n)=>{"use strict";var i=n(266),r=n(345),s=n(929),a=n(650);function o(t){var e=new s(t),n=r(s.prototype.request,e);return i.extend(n,s.prototype,e),i.extend(n,e),n}var c=o(n(46));c.Axios=s,c.create=function(t){return o(a(c.defaults,t))},c.Cancel=n(760),c.CancelToken=n(510),c.isCancel=n(825),c.all=function(t){return Promise.all(t)},c.spread=n(346),c.isAxiosError=n(276),t.exports=c,t.exports.default=c},760:t=>{"use strict";function e(t){this.message=t}e.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},e.prototype.__CANCEL__=!0,t.exports=e},510:(t,e,n)=>{"use strict";var i=n(760);function r(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var n=this;t((function(t){n.reason||(n.reason=new i(t),e(n.reason))}))}r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.source=function(){var t;return{token:new r((function(e){t=e})),cancel:t}},t.exports=r},825:t=>{"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},929:(t,e,n)=>{"use strict";var i=n(266),r=n(568),s=n(252),a=n(29),o=n(650);function c(t){this.defaults=t,this.interceptors={request:new s,response:new s}}c.prototype.request=function(t){"string"==typeof t?(t=arguments[1]||{}).url=arguments[0]:t=t||{},(t=o(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var e=[a,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach((function(t){e.unshift(t.fulfilled,t.rejected)})),this.interceptors.response.forEach((function(t){e.push(t.fulfilled,t.rejected)}));e.length;)n=n.then(e.shift(),e.shift());return n},c.prototype.getUri=function(t){return t=o(this.defaults,t),r(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},i.forEach(["delete","get","head","options"],(function(t){c.prototype[t]=function(e,n){return this.request(o(n||{},{method:t,url:e,data:(n||{}).data}))}})),i.forEach(["post","put","patch"],(function(t){c.prototype[t]=function(e,n,i){return this.request(o(i||{},{method:t,url:e,data:n}))}})),t.exports=c},252:(t,e,n)=>{"use strict";var i=n(266);function r(){this.handlers=[]}r.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},r.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},r.prototype.forEach=function(t){i.forEach(this.handlers,(function(e){null!==e&&t(e)}))},t.exports=r},943:(t,e,n)=>{"use strict";var i=n(406),r=n(27);t.exports=function(t,e){return t&&!i(e)?r(t,e):e}},979:(t,e,n)=>{"use strict";var i=n(50);t.exports=function(t,e,n,r,s){var a=new Error(t);return i(a,e,n,r,s)}},29:(t,e,n)=>{"use strict";var i=n(266),r=n(661),s=n(825),a=n(46);function o(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return o(t),t.headers=t.headers||{},t.data=r(t.data,t.headers,t.transformRequest),t.headers=i.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),i.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||a.adapter)(t).then((function(e){return o(t),e.data=r(e.data,e.headers,t.transformResponse),e}),(function(e){return s(e)||(o(t),e&&e.response&&(e.response.data=r(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))}},50:t=>{"use strict";t.exports=function(t,e,n,i,r){return t.config=e,n&&(t.code=n),t.request=i,t.response=r,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}},650:(t,e,n)=>{"use strict";var i=n(266);t.exports=function(t,e){e=e||{};var n={},r=["url","method","data"],s=["headers","auth","proxy","params"],a=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],o=["validateStatus"];function c(t,e){return i.isPlainObject(t)&&i.isPlainObject(e)?i.merge(t,e):i.isPlainObject(e)?i.merge({},e):i.isArray(e)?e.slice():e}function u(r){i.isUndefined(e[r])?i.isUndefined(t[r])||(n[r]=c(void 0,t[r])):n[r]=c(t[r],e[r])}i.forEach(r,(function(t){i.isUndefined(e[t])||(n[t]=c(void 0,e[t]))})),i.forEach(s,u),i.forEach(a,(function(r){i.isUndefined(e[r])?i.isUndefined(t[r])||(n[r]=c(void 0,t[r])):n[r]=c(void 0,e[r])})),i.forEach(o,(function(i){i in e?n[i]=c(t[i],e[i]):i in t&&(n[i]=c(void 0,t[i]))}));var l=r.concat(s).concat(a).concat(o),d=Object.keys(t).concat(Object.keys(e)).filter((function(t){return-1===l.indexOf(t)}));return i.forEach(d,u),n}},608:(t,e,n)=>{"use strict";var i=n(979);t.exports=function(t,e,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?e(i("Request failed with status code "+n.status,n.config,null,n.request,n)):t(n)}},661:(t,e,n)=>{"use strict";var i=n(266);t.exports=function(t,e,n){return i.forEach(n,(function(n){t=n(t,e)})),t}},46:(t,e,n)=>{"use strict";var i=n(266),r=n(490),s={"Content-Type":"application/x-www-form-urlencoded"};function a(t,e){!i.isUndefined(t)&&i.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var o,c={adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(o=n(786)),o),transformRequest:[function(t,e){return r(e,"Accept"),r(e,"Content-Type"),i.isFormData(t)||i.isArrayBuffer(t)||i.isBuffer(t)||i.isStream(t)||i.isFile(t)||i.isBlob(t)?t:i.isArrayBufferView(t)?t.buffer:i.isURLSearchParams(t)?(a(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):i.isObject(t)?(a(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};i.forEach(["delete","get","head"],(function(t){c.headers[t]={}})),i.forEach(["post","put","patch"],(function(t){c.headers[t]=i.merge(s)})),t.exports=c},345:t=>{"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];return t.apply(e,n)}}},568:(t,e,n)=>{"use strict";var i=n(266);function r(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var s;if(n)s=n(e);else if(i.isURLSearchParams(e))s=e.toString();else{var a=[];i.forEach(e,(function(t,e){null!=t&&(i.isArray(t)?e+="[]":t=[t],i.forEach(t,(function(t){i.isDate(t)?t=t.toISOString():i.isObject(t)&&(t=JSON.stringify(t)),a.push(r(e)+"="+r(t))})))})),s=a.join("&")}if(s){var o=t.indexOf("#");-1!==o&&(t=t.slice(0,o)),t+=(-1===t.indexOf("?")?"?":"&")+s}return t}},27:t=>{"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},159:(t,e,n)=>{"use strict";var i=n(266);t.exports=i.isStandardBrowserEnv()?{write:function(t,e,n,r,s,a){var o=[];o.push(t+"="+encodeURIComponent(e)),i.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),i.isString(r)&&o.push("path="+r),i.isString(s)&&o.push("domain="+s),!0===a&&o.push("secure"),document.cookie=o.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},406:t=>{"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},276:t=>{"use strict";t.exports=function(t){return"object"==typeof t&&!0===t.isAxiosError}},745:(t,e,n)=>{"use strict";var i=n(266);t.exports=i.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(t){var i=t;return e&&(n.setAttribute("href",i),i=n.href),n.setAttribute("href",i),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=r(window.location.href),function(e){var n=i.isString(e)?r(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0}},490:(t,e,n)=>{"use strict";var i=n(266);t.exports=function(t,e){i.forEach(t,(function(n,i){i!==e&&i.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[i])}))}},201:(t,e,n)=>{"use strict";var i=n(266),r=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,s,a={};return t?(i.forEach(t.split("\n"),(function(t){if(s=t.indexOf(":"),e=i.trim(t.substr(0,s)).toLowerCase(),n=i.trim(t.substr(s+1)),e){if(a[e]&&r.indexOf(e)>=0)return;a[e]="set-cookie"===e?(a[e]?a[e]:[]).concat([n]):a[e]?a[e]+", "+n:n}})),a):a}},346:t=>{"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},266:(t,e,n)=>{"use strict";var i=n(345),r=Object.prototype.toString;function s(t){return"[object Array]"===r.call(t)}function a(t){return void 0===t}function o(t){return null!==t&&"object"==typeof t}function c(t){if("[object Object]"!==r.call(t))return!1;var e=Object.getPrototypeOf(t);return null===e||e===Object.prototype}function u(t){return"[object Function]"===r.call(t)}function l(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),s(t))for(var n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.call(null,t[r],r,t)}t.exports={isArray:s,isArrayBuffer:function(t){return"[object ArrayBuffer]"===r.call(t)},isBuffer:function(t){return null!==t&&!a(t)&&null!==t.constructor&&!a(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:o,isPlainObject:c,isUndefined:a,isDate:function(t){return"[object Date]"===r.call(t)},isFile:function(t){return"[object File]"===r.call(t)},isBlob:function(t){return"[object Blob]"===r.call(t)},isFunction:u,isStream:function(t){return o(t)&&u(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:l,merge:function t(){var e={};function n(n,i){c(e[i])&&c(n)?e[i]=t(e[i],n):c(n)?e[i]=t({},n):s(n)?e[i]=n.slice():e[i]=n}for(var i=0,r=arguments.length;i<r;i++)l(arguments[i],n);return e},extend:function(t,e,n){return l(e,(function(e,r){t[r]=n&&"function"==typeof e?i(e,n):e})),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")},stripBOM:function(t){return 65279===t.charCodeAt(0)&&(t=t.slice(1)),t}}},705:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=t(e);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,i){"string"==typeof t&&(t=[[null,t,""]]);var r={};if(i)for(var s=0;s<this.length;s++){var a=this[s][0];null!=a&&(r[a]=!0)}for(var o=0;o<t.length;o++){var c=[].concat(t[o]);i&&r[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),e.push(c))}},e}},169:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var i=n(705),r=n.n(i)()((function(t){return t[1]}));r.push([t.id,'.wp.admin-area-section,.drupal.admin-area-section{border-top:1px solid #000;margin-top:2em}.wp.admin-area-section:first-of-type,.drupal.admin-area-section:first-of-type{margin-top:0}.wp .update-list ol,.drupal .update-list ol{display:block;list-style:none;counter-reset:itemCounter;width:25%}.wp .update-list li,.drupal .update-list li{display:flex;align-items:baseline;counter-increment:itemCounter}.wp .update-list li:before,.drupal .update-list li:before{content:counter(itemCounter) ".";margin-right:5px}.wp .update-list li span,.drupal .update-list li span{margin-right:5px}.wp.button-danger{background:#c70039 !important;border-color:#c70039 !important;color:#fff !important;text-decoration:none;text-shadow:none}.wp.button-danger:hover{background:#94002a !important;border-color:#94002a !important}.drupal.button-danger{border-color:#94002a;background-color:#c70039;background-image:linear-gradient(to bottom, #c70039, #94002a);color:#fff;text-shadow:0 1px rgba(0,0,0,0.5)}.drupal.button-danger:hover{background-color:#e10040;background-image:linear-gradient(to bottom, #e10040, #c70039)}\n',""]);const s=r},379:(t,e,n)=>{"use strict";var i,r=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),s=[];function a(t){for(var e=-1,n=0;n<s.length;n++)if(s[n].identifier===t){e=n;break}return e}function o(t,e){for(var n={},i=[],r=0;r<t.length;r++){var o=t[r],c=e.base?o[0]+e.base:o[0],u=n[c]||0,l="".concat(c," ").concat(u);n[c]=u+1;var d=a(l),p={css:o[1],media:o[2],sourceMap:o[3]};-1!==d?(s[d].references++,s[d].updater(p)):s.push({identifier:l,updater:m(p,e),references:1}),i.push(l)}return i}function c(t){var e=document.createElement("style"),i=t.attributes||{};if(void 0===i.nonce){var s=n.nc;s&&(i.nonce=s)}if(Object.keys(i).forEach((function(t){e.setAttribute(t,i[t])})),"function"==typeof t.insert)t.insert(e);else{var a=r(t.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(e)}return e}var u,l=(u=[],function(t,e){return u[t]=e,u.filter(Boolean).join("\n")});function d(t,e,n,i){var r=n?"":i.media?"@media ".concat(i.media," {").concat(i.css,"}"):i.css;if(t.styleSheet)t.styleSheet.cssText=l(e,r);else{var s=document.createTextNode(r),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(s,a[e]):t.appendChild(s)}}function p(t,e,n){var i=n.css,r=n.media,s=n.sourceMap;if(r?t.setAttribute("media",r):t.removeAttribute("media"),s&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}var f=null,h=0;function m(t,e){var n,i,r;if(e.singleton){var s=h++;n=f||(f=c(e)),i=d.bind(null,n,s,!1),r=d.bind(null,n,s,!0)}else n=c(e),i=p.bind(null,n,e),r=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else r()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=(void 0===i&&(i=Boolean(window&&document&&document.all&&!window.atob)),i));var n=o(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var i=0;i<n.length;i++){var r=a(n[i]);s[r].references--}for(var c=o(t,e),u=0;u<n.length;u++){var l=a(n[u]);0===s[l].references&&(s[l].updater(),s.splice(l,1))}n=c}}}}},e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={id:i,exports:{}};return t[i](r,r.exports,n),r.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";const t=Vue;var e=n.n(t),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"admin-area"}},[t.agcdn_mgmt_api_key?t._e():n("p",[t._v("Please enter an API key above to begin.")]),t._v(" "),t.agcdn_mgmt_api_key?n("div",{staticClass:"admin-area-section",class:t.cms,attrs:{id:"cache"}},[n("h3",[t._v("Cache Purge")]),t._v(" "),n("p",[n("button",{staticClass:"button button--primary button-primary",class:t.cms,attrs:{type:"button"},on:{click:t.purgeAll}},[t._v(t._s(t.purging?"Purging...":"Purge All Cache"))])])]):t._e(),t._v(" "),t.agcdn_mgmt_api_key?n("div",{staticClass:"admin-area-section",class:t.cms,attrs:{id:"dictionaries"}},[n("h3",[t._v("Dictionaries")]),t._v(" "),t.dictsLoading?n("p",[t._v("Loading list...")]):n("div",{staticClass:"dictionaryWrapper"},[t.dictLoadingError?n("p",[n("strong",[t._v("Error loading dictionaries. Reload the page to try again, or contact Pantheon Technical Services.")])]):n("keep-alive",[n(t.dictStage,{tag:"component",attrs:{"hash-type":"dict",item:"AclDictList"==t.dictStage?t.dicts:t.dictToEdit,"api-key":t.agcdn_mgmt_api_key,cms:t.cms},on:{"switch-stage":t.switchStage,"refresh-list":t.refresh}})],1)],1)]):t._e(),t._v(" "),t.agcdn_mgmt_api_key&&"settings"!==t.submodule?n("div",{staticClass:"admin-area-section",class:t.cms,attrs:{id:"acls"}},[n("h3",[t._v("ACLs")]),t._v(" "),t.aclsLoading?n("p",[t._v("Loading list...")]):n("div",{staticClass:"aclWrapper"},[t.aclLoadingError?n("p",[n("strong",[t._v("Error loading ACLs. Reload the page to try again, or contact Pantheon Technical Services.")])]):n("keep-alive",[n(t.aclStage,{tag:"component",attrs:{"hash-type":"acl",item:"AclDictList"==t.aclStage?t.acls:t.aclToEdit,"api-key":t.agcdn_mgmt_api_key,cms:t.cms},on:{"switch-stage":t.switchStage,"refresh-list":t.refresh}})],1)],1)]):t._e()])};i._withStripped=!0;var r=n(379),s=n.n(r),a=n(169);s()(a.Z,{insert:"head",singleton:!1}),a.Z.locals;var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"edit-acl"}},[n("h4",[t._v("Editing ACL "),n("em",[t._v(t._s(t.item.name))])]),t._v(" "),t.fetching?n("p",[t._v("Fetching items...")]):n("div",{attrs:{id:"acl-items"}},[n("p",[n("em",[t._v("Total records:")]),t._v(" "+t._s(t.items.length))]),t._v(" "),n("table",{class:t.tableClass},[t._m(0),t._v(" "),n("tbody",t._l(t.items,(function(e){return n("tr",{key:e.id},[n("td",{staticClass:"column-primary",attrs:{"data-colname":"IP"}},[t._v(t._s(e.ip))]),t._v(" "),n("td",{attrs:{"data-colname":"Subnet"}},[t._v(t._s(e.subnet))]),t._v(" "),n("td",{attrs:{"data-colname":"Comment"}},[t._v(t._s(e.comment))]),t._v(" "),n("td",{attrs:{"data-colname":"Actions"}},[n("button",{staticClass:"button button-danger",class:t.cms,attrs:{type:"button"},on:{click:function(n){return t.removeItem(e)}}},[t._v("Delete")]),t._v(" "),n("button",{staticClass:"button",class:t.cms,attrs:{type:"button"},on:{click:function(n){return t.edit(e.id)}}},[t._v("Edit")])])])})),0)]),t._v(" "),n("p",[n("button",{staticClass:"button",attrs:{type:"button"},on:{click:t.add}},[t._v("Add")])]),t._v(" "),t.actions.length>0?n("div",{staticClass:"update-list",class:t.cms,attrs:{id:"acl-updates"}},[n("h5",[t._v("Updates to make:")]),t._v(" "),n("ol",t._l(t.actions,(function(e,i){return n("li",{key:i},[n("span",[t._v(t._s(e.op.toUpperCase())+' IP "'+t._s(e.ip)+"/"+t._s(e.subnet)+'"')]),t._v(" "),n("button",{staticClass:"button",class:t.cms,attrs:{type:"button"},on:{click:function(e){return t.removeAction(i)}}},[t._v("Remove")])])})),0)]):t._e()]),t._v(" "),n("p",[t.actions.length>0?n("button",{staticClass:"button button--primary button-primary",class:t.cms,attrs:{type:"button"},on:{click:t.save}},[t._v(t._s(t.working?t.workingText:t.saveAllText))]):t._e(),t._v(" "),n("button",{staticClass:"button",class:t.cms,attrs:{type:"button"},on:{click:t.cancelEdit}},[t._v("Cancel")])])])};function c(t,e,n,i,r,s,a,o){var c,u="function"==typeof t?t.options:t;if(e&&(u.render=e,u.staticRenderFns=n,u._compiled=!0),i&&(u.functional=!0),s&&(u._scopeId="data-v-"+s),a?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},u._ssrRegister=c):r&&(c=o?function(){r.call(this,(u.functional?this.parent:this).$root.$options.shadowRoot)}:r),c)if(u.functional){u._injectStyles=c;var l=u.render;u.render=function(t,e){return c.call(e),l(t,e)}}else{var d=u.beforeCreate;u.beforeCreate=d?[].concat(d,c):[c]}return{exports:t,options:u}}o._withStripped=!0;var u=c({name:"edit-acl",props:{item:Object,apiKey:String,cms:String},data:()=>({items:[],fetching:!0,working:!1,actions:[],saveAllText:"Save All Changes",workingText:"Working..."}),methods:{cancelEdit:function(){this.$emit("switch-stage",{stage:"AclDictList",type:"acl"})},edit:function(t){const e=prompt("Enter the new IP address:");if(e){const n=prompt("Enter the new subnet (leave blank for /32):"),i=prompt("Enter an optional comment:");this.actions.push({op:"update",id:t,ip:e,subnet:n||32,comment:i})}},removeItem:function(t){this.actions.push({op:"delete",id:t.id,ip:t.ip,subnet:t.subnet})},add:function(){const t=prompt("Enter the new IP address:"),e={op:"create",ip:"",subnet:"",comment:""};if(t){const n=this.items.filter((e=>e.ip===t));n.length>0&&(e.op="update",e.id=n[0].id),e.ip=t;const i=prompt("Enter the new subnet (leave blank for /32):"),r=prompt("Enter an optional comment:");e.subnet=i||32,e.comment=r,this.actions.push(e)}},removeAction:function(t){this.$delete(this.actions,t)},save:async function(){if(this.actions.length>0){this.working=!0;const t={entries:this.actions},e=await this.$api.request(`/acls/${this.item.id}/entries`,{method:"PATCH",headers:{agcdn_mgmt_api_key:this.apiKey},data:t});this.working=!1,"ok"==e.data.status?this.$emit("switch-stage",{stage:"AclDictList",type:"acl"}):(this.actions=[],alert("Your actions have not been saved. Please try again later."))}}},activated(){this.fetching=!0,this.$api.request(`/acls/${this.item.id}/entries`,{method:"GET",headers:{agcdn_mgmt_api_key:this.apiKey}}).then((t=>{this.items=t.data,this.actions=[],this.fetching=!1}))},computed:{tableClass:function(){return"wp"===this.cms?"wp-list-table widefat fixed striped":""}}},o,[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("th",{staticClass:"manage-column column-primary"},[t._v("IP")]),t._v(" "),n("th",{staticClass:"manage-column"},[t._v("Subnet")]),t._v(" "),n("th",{staticClass:"manage-column"},[t._v("Comment")]),t._v(" "),n("th",{staticClass:"manage-column"},[t._v("Actions")])])])}],!1,null,null,null);u.options.__file="src/EditAcl.vue";const l=u.exports;var d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"edit-dictionary"}},[n("h4",[t._v("Editing dictionary "),n("em",[t._v(t._s(t.item.name))])]),t._v(" "),t.fetching?n("p",[t._v("Fetching items...")]):n("div",{attrs:{id:"dictionary-items"}},[n("p",[n("em",[t._v("Total records:")]),t._v(" "+t._s(t.items.length))]),t._v(" "),n("table",{class:t.tableClass},[t._m(0),t._v(" "),n("tbody",t._l(t.items,(function(e){return n("tr",{key:e.item_key},[n("td",{staticClass:"column-primary",attrs:{"data-colname":"Key"}},[t._v(t._s(e.item_key))]),t._v(" "),n("td",{attrs:{"data-colname":"Value"}},[t._v(t._s(e.item_value))]),t._v(" "),n("td",{attrs:{"data-colname":"Actions"}},[n("button",{staticClass:"button button-danger",class:t.cms,attrs:{type:"button"},on:{click:function(n){return t.removeItem(e.item_key)}}},[t._v("Delete")]),t._v(" "),n("button",{staticClass:"button",class:t.cms,attrs:{type:"button"},on:{click:function(n){return t.edit(e.item_key)}}},[t._v("Edit")])])])})),0)]),t._v(" "),n("p",[n("button",{staticClass:"button",class:t.cms,attrs:{type:"button"},on:{click:t.add}},[t._v("Add")])]),t._v(" "),t.actions.length>0?n("div",{staticClass:"update-list",class:t.cms,attrs:{id:"dict-updates"}},[n("h5",[t._v("Updates to make:")]),t._v(" "),n("ol",t._l(t.actions,(function(e,i){return n("li",{key:i},[n("span",[t._v(t._s(e.op.toUpperCase())+' item "'+t._s(e.item_key)+'" '+t._s("item_value"in e?' with value "'+e.item_value+'"':""))]),t._v(" "),n("button",{staticClass:"button",class:t.cms,attrs:{type:"button"},on:{click:function(e){return t.removeAction(i)}}},[t._v("Remove")])])})),0)]):t._e()]),t._v(" "),n("p",[t.actions.length>0?n("button",{staticClass:"button button--primary button-primary",class:t.cms,attrs:{type:"button"},on:{click:t.save}},[t._v(t._s(t.working?t.workingText:t.saveAllText))]):t._e(),t._v(" "),n("button",{staticClass:"button",class:t.cms,attrs:{type:"button"},on:{click:t.cancelEdit}},[t._v("Cancel")])])])};d._withStripped=!0;var p=c({name:"edit-dictionary",props:{item:Object,apiKey:String,cms:String},data:()=>({items:[],fetching:!0,working:!1,actions:[],saveAllText:"Save All Changes",workingText:"Working..."}),methods:{cancelEdit:function(){this.$emit("switch-stage",{stage:"AclDictList",type:"dict"})},edit:function(t){const e=prompt(`Enter the new value for key ${t}:`);e&&this.actions.push({op:"update",item_key:t,item_value:e})},removeItem:function(t){this.actions.push({op:"delete",item_key:t})},add:function(){const t=prompt("Enter a new key:"),e={op:"upsert",item_key:"",item_value:""};if(t){e.item_key=t;const n=prompt("Enter a value:");if(n)return e.item_value=n,void this.actions.push(e)}},removeAction:function(t){this.$delete(this.actions,t)},save:async function(){if(this.actions.length>0){this.working=!0;const t={items:this.actions},e=await this.$api.request(`/dictionaries/${this.item.id}/items`,{method:"PATCH",headers:{agcdn_mgmt_api_key:this.apiKey},data:t});this.working=!1,"ok"==e.data.status?this.$emit("switch-stage",{stage:"AclDictList",type:"dict"}):(this.actions=[],alert("Your actions have not been saved. Please try again later."))}}},activated(){this.fetching=!0,this.$api.request(`/dictionaries/${this.item.id}/items`,{method:"GET",headers:{agcdn_mgmt_api_key:this.apiKey}}).then((t=>{this.items=t.data,this.actions=[],this.fetching=!1}))},computed:{tableClass:function(){return"wp"===this.cms?"wp-list-table widefat fixed striped":""}}},d,[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("th",{staticClass:"manage-column column-primary"},[t._v("Key")]),t._v(" "),n("th",{staticClass:"manage-column"},[t._v("Value")]),t._v(" "),n("th",{staticClass:"manage-column"},[t._v("Actions")])])])}],!1,null,null,null);p.options.__file="src/EditDict.vue";const f=p.exports;var h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"aclDictList"},[n("p",[n("label",{attrs:{for:this.hashType+"Filter"}},[t._v("Search "+t._s(t.pluralType)+" by name:")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.filter,expression:"filter"}],attrs:{type:"text",id:"filter"},domProps:{value:t.filter},on:{input:[function(e){e.target.composing||(t.filter=e.target.value)},t.filterList]}})]),t._v(" "),n("p",[n("button",{staticClass:"button button--primary button-primary",class:t.cms,attrs:{type:"button"},on:{click:t.refresh}},[t._v("Refresh List")])]),t._v(" "),n("table",{class:t.tableClass},[t._m(0),t._v(" "),n("tbody",t._l(t.filteredList,(function(e){return n("tr",{key:e.id},[n("td",[t._v(t._s(e.name))]),t._v(" "),n("td",[t._v(t._s(e.id))]),t._v(" "),n("td",[n("button",{staticClass:"button",class:t.cms,attrs:{type:"button"},on:{click:function(n){return t.editItem(e.id)}}},[t._v("Edit")])])])})),0)])])};h._withStripped=!0;var m=c({name:"acl-dict-list",props:{item:Array,hashType:String,cms:String},data:()=>({filteredList:[],filter:""}),methods:{filterList:function(){""===this.filter?this.filteredList=this.item:this.filteredList=this.item.filter((t=>t.name.includes(this.filter)))},editItem:function(t){this.$emit("switch-stage",{stage:`Edit${this.hashType.charAt(0).toUpperCase()+this.hashType.substr(1)}`,type:this.hashType,id:t})},refresh:function(){this.$emit("refresh-list",{type:this.hashType})}},mounted(){this.filteredList=this.item},computed:{pluralType:function(){return"acl"===this.hashType?"ACLs":"dictionaries"},tableClass:function(){return"wp"===this.cms?"wp-list-table widefat fixed striped":""}}},h,[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("th",{staticClass:"manage-column column-primary"},[t._v("Name")]),t._v(" "),n("th",{staticClass:"manage-column"},[t._v("ID")]),t._v(" "),n("th",{staticClass:"manage-column"},[t._v("Actions")])])])}],!1,null,null,null);m.options.__file="src/AclDictList.vue";var v=c({name:"admin-area",components:{EditAcl:l,EditDict:f,AclDictList:m.exports},data:()=>({agcdn_mgmt_api_key:"WP_OPTIONS"in window?window.WP_OPTIONS.pantheon_agcdn_management_api_key:window.drupalSettings.pantheon_agcdn_management.api_key,dictsLoading:!0,aclsLoading:!0,dicts:[],acls:[],dictStage:"AclDictList",aclStage:"AclDictList",dictIdToEdit:"",aclIdToEdit:"",dictLoadingError:!1,aclLoadingError:!1,purging:!1,purgeUrl:"",submodule:"WP_OPTIONS"in window?window.WP_OPTIONS.pantheon_agcdn_management_submodule:window.drupalSettings.pantheon_agcdn_management.submodule}),methods:{switchStage:function(t){this.$set(this,`${t.type}Stage`,t.stage),/^Edit/.test(t.stage)?this.$set(this,`${t.type}IdToEdit`,t.id):this.$set(this,`${t.type}IdToEdit`,"")},refresh:function(t){"dict"===t.type?(this.dictsLoading=!0,this.dicts=[],this.filteredDicts=[],this.getDictionaries()):"acl"===t.type&&(this.aclsLoading=!0,this.acls=[],this.filteredACLs=[],this.getACLs())},getDictionaries:function(){const t={method:"GET",headers:{agcdn_mgmt_api_key:this.agcdn_mgmt_api_key}};this.$api.request("/dictionaries",t).then((t=>{this.dictsLoading=!1,this.dicts=t.data,this.filteredDicts=this.dicts})).catch((t=>{this.dictsLoading=!1,this.dictLoadingError=!0}))},getACLs:function(){const t={method:"GET",headers:{agcdn_mgmt_api_key:this.agcdn_mgmt_api_key}};this.$api.request("/acls",t).then((t=>{this.aclsLoading=!1,this.acls=t.data.filter((t=>"waf allowlist"!==t.name)),this.filteredACLs=this.acls})).catch((t=>{this.aclsLoading=!1,this.aclLoadingError=!0}))},purgeAll:async function(){this.purging=!0,"ok"!==(await this.$api.request("/purge/all",{method:"GET",headers:{agcdn_mgmt_api_key:this.agcdn_mgmt_api_key}})).data.status&&alert("Failed to purge cache."),this.purging=!1}},mounted(){this.agcdn_mgmt_api_key&&(this.getDictionaries(),this.getACLs())},computed:{dictToEdit:function(){return this.dicts.filter((t=>t.id===this.dictIdToEdit))[0]},aclToEdit:function(){return this.acls.filter((t=>t.id===this.aclIdToEdit))[0]},cms:function(){return"WP_OPTIONS"in window?"wp":"drupal"}}},i,[],!1,null,null,null);v.options.__file="src/App.vue";const g=v.exports;var _=n(559),y=n.n(_);e().prototype.$api=y().create({baseURL:"https://us-central1-pantheon-psapps.cloudfunctions.net/advcdn/client_management",timeout:3e4,headers:{"Content-Type":"application/json",Accept:"application/json"}}),e().config.productionTip=!1,new(e())({render:t=>t(g)}).$mount("#app")})()})();